<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Start page</title>
	<link href="style.css.gz" rel="stylesheet">
</head>
<body>
	<ul class="nav" id="myTopnav">
		<li><a href="#" class="brand">NodeMCU</a></li>
		<li><a href="#">Настройки</a></li>
		<li><a href="#">Инфо</a></li>
		<li style="float:right;margin-right:10px;"><a href="#" id="btn_exit">Выход</a></li>
		<li class="-icon"><a href="#" id="btn_nav">☰</a></li>
	</ul>
	<div id="Modal" class="modal">
		<div class="m-cont">
			<span class="close" id="close_m">&times;</span>
			<div class="m-body">
				<p>Сохранить настройки и перезагрузить модуль?</p>
			</div>
			<div class="m-foo">
				<button id="save_m" class="success">Yes</button>
				<button id="close" class="danger">No</button>
			</div>
		</div>
	</div>
	<div class="cont-flu">
		<div class="row">
			<div class="xs-12 sm-2 lg-2">
			</div>
			<div class="xs-12 sm-10 lg-9">
				<h1>Settings</h1>
				<div class="row">
					<div class="xs-12 sm-6 lg-6">
						<h3>Wi-Fi :</h3>
						<div class="row center">
							<div class="xs-10">
								<div class="group">
									<select id="wifi_mode">
        <option <?lua return(s.wifi_mode=="OFF"and'selected'or'')?> value="OFF">Выключить</option>
        <option <?lua return(s.wifi_mode=="ST"and'selected'or'')?> value="ST">Wireless client</option>
        <option <?lua return(s.wifi_mode=="AP"and'selected'or'')?> value="AP">Access point</option>             
        </select>
								</div>
							</div>
						</div>
						<div class="row center">
							<div class="xs-10">
								<div class="group">
									<div class="search">
										<input id="wifi_id" type="text" required="" value="<?lua return(s.wifi_id)?>">
										<label for="wifi_id">Имя (SSID):</label>
										<input id="search" type="submit" value="Поиск">
										<ul id="list" style="display:none;">
										</ul>
									</div>
								</div>
							</div>
							<div class="xs-10">
								<div class="group">
									<input id="wifi_pass" type="password" required="" value="<?lua return(s.wifi_pass)?>">
									<label for="wifi_pass">Password</label>
								</div>
							</div>
						</div>
					</div>
					<div class="xs-12 sm-6 lg-6">
						<h3>Аутентификация :</h3>
						<div class="row center">
							<div class="xs-10">
								<div class="group">
									<select id="auth">
              <option <?lua return(s.auth=="OFF"and'selected'or'')?> value="OFF">Выключить</option>
              <option <?lua return(s.auth=="ON"and'selected'or'')?> value="ON">Включить</option>           
              </select>
								</div>
							</div>
						</div>
						<div class="row center">
							<div class="xs-10">
								<div class="group">
									<input id="auth_login" type="text" required="" value="<?lua return(s.auth_login)?>">
									<label for="auth_login">Login</label>
								</div>
							</div>
						</div>
						<div class="row center">
							<div class="xs-10">
								<div class="group">
									<input id="auth_pass" type="password" required="" value="<?lua return(s.auth_pass)?>">
									<label for="auth_pass">Password</label>
								</div>
							</div>
						</div>
					</div>
				</div>
				<br><br>
				<div class="row end">
					<div class="xs-12">
						<div class="group">
							<button class="info" style="margin-right: 2em;" id="btn_save">Save</button>
						</div>
					</div>
				</div>
				<br>
				<h1>Info</h1>
		<div class="row">
	<div class="xs-12">
<table>
  <thead>
    <tr>
      <th>ChipID</th>
      <th>FlashID</th>
      <th>FS Total</th>
      <th>FS Used</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><?luareturn(string.format("%x",node.chipid()*256))?></td>
      <td><?luareturn(string.format("%x",node.flashid()*256))?></td>
      <td><?lua local x=file.fsinfo() return(x)?></td>
      <td><?lua local _, x=file.fsinfo() return(x)?></td>
    </tr>
  </tbody>
</table>
	</div>
</div>
	<br>
		<div class="row">
	<div class="xs-2">
<span> Память :</span>
	</div>
	<div class="xs-10">
		<div class="progbar">
			<div class="bar" style="width:<?luareturn(node.heap()*100/45000)?>%">
				<div class="label"><?luareturn(node.heap()*100/45000)?>%</div>
			</div>
		</div>
	</div>
</div>
		
		
		
			</div>
		</div>
	</div>

	<script src="script_settings.js"></script>

</body>

</html>